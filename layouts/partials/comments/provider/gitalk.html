{{- with .Site.Params.comments.gitalk -}}
<div id="gitalk-container"></div>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"
/>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: 'a585c52acc853b0f1671',
        clientSecret: "2584ffc018f17c84831e4e6a00d2d376a2596def",
        repo: "Blog",
        owner: "X-MQSI",
        admin: ["X-MQSI"],
        distractionFreeMode: false, // Facebook-like distraction free mode
        id: md5(location.pathname), // Max Location.pathname Legth:75  https://github.com/gitalk/gitalk/issues/102
        proxy: 'https://vercel.prohibitorum.top/github_access_token',// 感谢@Dedicatus546的解决方案  https://prohibitorum.top/7cc2c97a15b4.html
        createIssueManually: true
    });
    (function () {
        if (
            ["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1
        ) {
            document.getElementById("gitalk-container").innerHTML =
                "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>
{{ end }}
